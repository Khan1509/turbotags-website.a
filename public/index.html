<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TurboTags - AI-Powered Tags & Hashtags Generator for YouTube, Instagram & TikTok | Free SEO Tool</title>
    
    <!-- Google Adsense -->
    <meta name="google-adsense-account" content="ca-pub-7231854986385753">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7231854986385753" crossorigin="anonymous"></script>

    <!-- Favicon links -->
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="favicon.svg">

    <!-- PWA Manifest Link -->
    <link rel="manifest" href="/manifest.json">

    <!-- Enhanced Global SEO Meta Tags -->
    <meta name="description" content="TurboTags: Free AI-powered hashtag and tag generator for YouTube, Instagram, TikTok. Create viral content with SEO-optimized tags. Boost reach, grow followers, increase engagement worldwide. Learn how to generate tags for YouTube, how to get more views, how to increase subscribers, how to find trending Instagram hashtags, how to go viral on TikTok, and more. Your ultimate free SEO tool for content creators, influencers, and marketers globally.">
    <meta name="keywords" content="YouTube tags, Instagram hashtags, TikTok hashtags, AI tag generator, hashtag generator, SEO optimization, content creation, social media growth, video marketing, viral content, free hashtag tool, YouTube SEO, Instagram growth, TikTok viral, content creator tools, influencer marketing, social media optimization, trending hashtags, AI-powered tags, global reach, worldwide content optimization, gaming YouTube tags, viral tags, AI tools for content, how to generate tags for YouTube, how to get more YouTube views, how to increase YouTube subscribers, how to find trending Instagram hashtags, how to go viral on TikTok, how to increase TikTok views, best free tag generator, YouTube SEO tips, Instagram growth hacks, TikTok viral strategies">
    <meta name="author" content="TurboTags">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="language" content="en-US, en-GB, en-CA, en-AU, en-IN">
    <meta name="geo.region" content="US, GB, CA, AU, IN, DE, FR, ES, IT, BR, JP, KR, CN">
    <meta name="geo.placename" content="Global">
    <meta name="revisit-after" content="3 days">
    <meta name="distribution" content="global">
    <meta name="audience" content="all">
    <meta name="rating" content="general">
    <meta name="referrer" content="origin-when-cross-origin">

    <!-- Canonical URL to prevent duplicate content issues -->
    <link rel="canonical" href="https://turbotags.app/">

    <!-- International SEO -->
    <link rel="alternate" hreflang="en" href="https://turbotags.app/">
    <link rel="alternate" hreflang="en-us" href="https://turbotags.app/">
    <link rel="alternate" hreflang="en-gb" href="https://turbotags.app/">
    <link rel="alternate" hreflang="en-ca" href="https://turbotags.app/">
    <link rel="alternate" hreflang="en-au" href="https://turbotags.app/">
    <link rel="alternate" hreflang="x-default" href="https://turbotags.app/">

    <!-- Performance & SEO Optimization -->
    <meta name="google-site-verification" content="hVRr2MoyaAmrnZfy0zqnMkj7qDw9fGfP4iMRK3r_ZvU" />
    <meta name="msvalidate.01" content="YOUR_BING_VERIFICATION_CODE_HERE">
    <!-- Yandex Site Verification -->
    <meta name="yandex-verification" content="3a79b1e10329613e">
    <meta name="baidu-site-verification" content="PLACEHOLDER_FOR_BAIDU_VERIFICATION">

    <!-- Mobile & PWA Meta Tags -->
    <meta name="theme-color" content="#151440">
    <meta name="msapplication-TileColor" content="#151440">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TurboTags">
    <meta name="format-detection" content="telephone=no">

    <!-- Performance & Security -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="origin-when-cross-origin">
    <!-- Preconnect to improve loading of external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://www.gstatic.com">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://turbotags.app/">
    <meta property="og:title" content="TurboTags - AI-Powered Tags & Hashtags Generator">
    <meta property="og:description" content="Generate AI-powered, SEO-optimized tags and hashtags for YouTube, Instagram, and TikTok. Boost your content reach and grow your audience instantly.">
    <meta property="og:image" content="social-share-1200x630.webp">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://turbotags.app/">
    <meta property="twitter:title" content="TurboTags - AI-Powered Tags & Hashtags Generator">
    <meta property="twitter:description" content="Generate AI-powered, SEO-optimized tags and hashtags for YouTube, Instagram, and TikTok. Boost your content reach and grow your audience instantly.">
    <meta property="twitter:image" content="social-share-1200x675.webp">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YXQPT1LPT8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-YXQPT1LPT8');
    </script>

    <!-- Tailwind CSS CDN - Keep in head to prevent CLS, but for production, compile and link -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome for icons - Preloaded for better performance -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"></noscript>

    <!-- Preload Google Fonts CSS for faster loading and proper font-display behavior -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;500;700;800&display=swap"></noscript>

    <!-- Custom styles for animations and font - Placed AFTER Tailwind CDN to ensure overrides work -->
    <style>
        /* Set html background to light grey */
        html {
            background-color: #f5f5f5;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* Ensure main container takes full width */
        .full-width-container {
            width: 100%;
            max-width: 100%;
            padding: 0;
        }

        .gradient-text {
            background: linear-gradient(90deg, #151440, #7A7EBF, #9E99BF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* TurboTags Heading Animation */
        .turbotags-heading:hover {
            transform: scale(1.02);
            text-shadow: 0 0 15px rgba(122, 125, 191, 0.6);
            transition: all 0.3s ease-in-out;
            animation: text-glow 1.5s infinite alternate;
        }

        /* Text Glow Animation */
        @keyframes text-glow {
            from { text-shadow: 0 0 5px rgba(21, 20, 64, 0.5); }
            to { text-shadow: 0 0 20px rgba(21, 20, 64, 0.9), 0 0 30px rgba(122, 125, 191, 0.7), 0 0 40px rgba(158, 153, 191, 0.5); }
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #151440 0%, #7A7EBF 50%, #9E99BF 100%);
            color: white;
            font-weight: bold;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
            animation: button-glow 1.5s infinite alternate;
        }

        /* Button Glow Animation */
        @keyframes button-glow {
            from { box-shadow: 0 0 5px rgba(21, 20, 64, 0.5), 0 4px 6px rgba(0, 0, 0, 0.1); }
            to { box-shadow: 0 0 15px rgba(21, 20, 64, 0.9), 0 0 20px rgba(122, 125, 191, 0.7), 0 6px 8px rgba(0, 0, 0, 0.15); }
        }

        .btn-secondary {
            background-color: #e5e7eb;
            color: #4b5563;
            font-weight: bold;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
            background-color: #d1d5db;
        }

        /* Tab Buttons - Improved Contrast */
        .tab-button {
            flex: 1;
            padding: 1rem 0.5rem;
            text-align: center;
            color: #1F2937;
            font-weight: bold;
            border-bottom: 4px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .tab-button.active {
            color: #151440;
            border-bottom-color: #151440;
            background-color: rgba(21, 20, 64, 0.05);
        }

        .tab-button i {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        /* Tag Item Styling */
        .tag-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: white;
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease-in-out;
        }
        .tag-item:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .tag-item .trend-percentage {
            font-size: 0.875rem;
            color: #374151;
            margin-left: 0.75rem;
            font-weight: normal;
        }

        /* Copy button animation */
        .copy-btn {
            transition: all 0.2s ease-in-out;
        }
        .copy-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Cookie Consent Banner - CLS FIX */
        .cookie-consent {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 1rem;
            z-index: 1000;
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .cookie-consent.show {
            display: block;
            opacity: 1;
        }

        /* Message Box */
        .message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            min-width: 250px;
            text-align: center;
        }

        .message-box.show {
            opacity: 1;
        }

        .message-box.error {
            background-color: #f44336;
        }

        /* Loader */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #151440;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Fade-in Animation */
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Section Hover Effect */
        section.bg-white {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
            margin: 1rem auto;
            max-width: 1200px;
            padding: 1.5rem;
        }

        section.bg-white:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        /* Feature Cards */
        .feature-card {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
            height: 100%;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        /* Premium/Coming Soon Cards */
        .premium-card {
            background: white;
            border-radius: 1rem;
            padding: 1.25rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
            height: 100%;
        }

        .premium-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.1);
        }

        /* FAQ Accordion */
        .faq-item {
            border-bottom: 1px solid #e5e7eb;
            padding: 1rem 0;
        }

        .faq-question {
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-answer.open {
            max-height: 500px;
            padding-top: 1rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
        }
        .modal.show {
            display: flex;
        }
        .modal-content {
            background-color: white;
            margin: auto;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: fadeInScale 0.3s ease-out;
        }
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        /* Custom Confirmation Modal Styling */
        #confirmModal .modal-content {
            max-width: 400px;
            text-align: center;
        }
        #confirmModal .modal-content button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 600;
            transition-property: all;
            transition-duration: 200ms;
        }
        #confirmModal .modal-content .confirm-yes {
            background-color: #ef4444;
            color: white;
        }
        #confirmModal .modal-content .confirm-yes:hover {
            background-color: #dc2626;
        }
        #confirmModal .modal-content .confirm-no {
            background-color: #e5e7eb;
            color: #1f2937;
        }
        #confirmModal .modal-content .confirm-no:hover {
            background-color: #d1d5db;
        }

        /* Scroll to Top Button */
        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #151440;
            color: white;
            cursor: pointer;
            padding: 15px;
            border-radius: 50%;
            font-size: 18px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, transform 0.3s;
        }
        #scrollToTopBtn:hover {
            background-color: #7A7EBF;
            transform: translateY(-2px);
        }

        /* Thunder Icon Pulse Animation */
        .thunder-icon-animated:hover {
            animation: pulse 1s infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(1.1); opacity: 0.8; }
        }

        /* Rocket Emoji Animation */
        .rocket-animated:hover {
            animation: rocket-float 0.8s infinite alternate;
        }

        @keyframes rocket-float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        /* Bounce animation for copy buttons */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .bounce {
            animation: bounce 0.5s;
        }

        /* Stats Section */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #151440;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            color: #6b7280;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, #151440 0%, #7A7EBF 100%);
            color: white;
            padding: 4rem 2rem;
            border-radius: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Platform Cards */
        .platform-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }

        .platform-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .platform-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .platform-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .platform-name {
            font-size: 1.25rem;
            font-weight: bold;
            color: #151440;
            margin-bottom: 0.5rem;
        }

        .platform-description {
            font-size: 0.9rem;
            color: #6b7280;
        }

        /* Floating Balls Animation */
        .floating-balls {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .floating-balls li {
            position: absolute;
            display: block;
            list-style: none;
            width: 20px;
            height: 20px;
            background: rgba(21, 20, 64, 0.1);
            animation: floating 25s linear infinite;
            bottom: -150px;
            border-radius: 50%;
        }

        .floating-balls li:nth-child(1) {
            left: 25%;
            width: 80px;
            height: 80px;
            animation-delay: 0s;
        }

        .floating-balls li:nth-child(2) {
            left: 10%;
            width: 20px;
            height: 20px;
            animation-delay: 2s;
            animation-duration: 12s;
        }

        .floating-balls li:nth-child(3) {
            left: 70%;
            width: 20px;
            height: 20px;
            animation-delay: 4s;
        }

        .floating-balls li:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            animation-delay: 0s;
            animation-duration: 18s;
        }

        .floating-balls li:nth-child(5) {
            left: 65%;
            width: 20px;
            height: 20px;
            animation-delay: 0s;
        }

        .floating-balls li:nth-child(6) {
            left: 75%;
            width: 110px;
            height: 110px;
            animation-delay: 3s;
        }

        .floating-balls li:nth-child(7) {
            left: 35%;
            width: 150px;
            height: 150px;
            animation-delay: 7s;
        }

        .floating-balls li:nth-child(8) {
            left: 50%;
            width: 25px;
            height: 25px;
            animation-delay: 15s;
            animation-duration: 45s;
        }

        .floating-balls li:nth-child(9) {
            left: 20%;
            width: 15px;
            height: 15px;
            animation-delay: 2s;
            animation-duration: 35s;
        }

        .floating-balls li:nth-child(10) {
            left: 85%;
            width: 150px;
            height: 150px;
            animation-delay: 0s;
            animation-duration: 11s;
        }

        @keyframes floating {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
                border-radius: 50%;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 50%;
            }
        }

        /* Mobile-specific styles */
        @media (max-width: 768px) {
            .btn-primary, .btn-secondary {
                padding: 0.75rem 1.25rem;
                font-size: 0.9rem;
            }

            .tab-button {
                padding: 0.75rem 0.25rem;
                font-size: 0.8rem;
            }

            .tab-button i {
                font-size: 1.25rem;
            }

            .feature-card, .premium-card, .stats-card {
                padding: 1rem;
            }

            .message-box {
                width: 90%;
                font-size: 0.9rem;
            }

            #tagsOutput {
                grid-template-columns: 1fr !important;
            }

            .cookie-consent {
                padding: 0.75rem;
            }

            .cookie-consent p {
                font-size: 0.8rem;
            }

            .cookie-consent button {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
            }

            /* Stats Section */
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }

            /* Platform Cards */
            .platform-cards {
                grid-template-columns: repeat(2, 1fr);
            }

            /* Hero Section */
            .hero-section {
                padding: 2rem 1rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            /* Mobile menu specific styles */
            .mobile-menu {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #151440;
                color: white;
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
                z-index: 999;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding-top: 60px;
            }

            .mobile-menu.open {
                transform: translateX(0);
            }

            .mobile-menu-close-btn {
                position: absolute;
                top: 20px;
                right: 20px;
                background: none;
                border: none;
                color: white;
                font-size: 2rem;
                cursor: pointer;
            }

            .mobile-menu a {
                font-size: 1.5rem;
                padding: 1rem 0;
                width: 80%;
                text-align: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                transition: background-color 0.2s;
            }

            .mobile-menu a:hover {
                background-color: rgba(255, 255, 255, 0.1);
            }

            .mobile-menu a:last-child {
                border-bottom: none;
            }

            /* Hide desktop menu on mobile */
            .desktop-nav {
                display: none;
            }

            /* Show hamburger icon on mobile */
            .hamburger-menu {
                display: block;
            }
        }

        /* Desktop menu specific styles */
        @media (min-width: 769px) {
            .mobile-menu, .hamburger-menu {
                display: none;
            }
        }
    </style>
    <!-- Enhanced Schema.org JSON-LD for Global SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "TurboTags - AI Hashtag & Tag Generator",
        "alternateName": ["TurboTags", "Turbo Tags", "AI Tag Generator", "Hashtag Generator", "YouTube Tag Generator", "Instagram Hashtag Generator", "TikTok Hashtag Generator"],
        "description": "Free AI-powered hashtag and tag generator for YouTube, Instagram, TikTok. Create viral content with SEO-optimized tags. Boost reach, grow followers, increase engagement worldwide. Learn how to generate tags for YouTube, how to get more views, how to increase subscribers, how to find trending hashtags for Instagram, how to go viral on TikTok, and more. Your ultimate free SEO tool for content creators, influencers, and marketers globally.",
        "url": "https://turbotags.app",
        "applicationCategory": ["BusinessApplication", "UtilitiesApplication", "ProductivityApplication", "SEO Software", "Social Media Marketing Tool"],
        "operatingSystem": ["Any", "Web Browser", "iOS", "Android", "Windows", "macOS", "Linux"],
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareVersion": "2.0",
        "releaseNotes": "Enhanced AI algorithms, multi-platform support, real-time trending analysis, improved user experience, global SEO optimization.",
        "dateCreated": "2024-01-01",
        "dateModified": "2025-07-19",
        "creator": {
            "@type": "Organization",
            "name": "TurboTags",
            "url": "https://turbotags.app"
        },
        "publisher": {
            "@type": "Organization",
            "name": "TurboTags",
            "url": "https://turbotags.app"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock",
            "priceSpecification": {
                "@type": "PriceSpecification",
                "price": "0",
                "priceCurrency": "USD"
            }
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "50000",
            "bestRating": "5",
            "worstRating": "1"
        },
        "review": [
            {
                "@type": "Review",
                "author": {
                    "@type": "Person",
                    "name": "Content Creator"
                },
                "reviewRating": {
                    "@type": "Rating",
                    "ratingValue": "5",
                    "bestRating": "5",
                    "worstRating": "1"
                },
                "reviewBody": "TurboTags has revolutionized my content strategy. The AI-generated tags are incredibly accurate and have significantly boosted my reach across all platforms."
            }
        ],
        "featureList": [
            "AI-powered tag generation",
            "Multi-platform support (YouTube, Instagram, TikTok)",
            "Real-time trending analysis",
            "One-click copy functionality",
            "Search history tracking",
            "Free to use",
            "No registration required",
            "How to generate tags for YouTube videos",
            "How to get more views on YouTube",
            "How to increase YouTube subscribers",
            "How to find trending Instagram hashtags",
            "How to go viral on TikTok",
            "How to increase TikTok views",
            "SEO optimization for social media content",
            "Global content reach strategies"
        ],
        "applicationSubCategory": "Social Media Tools",
        "keywords": "hashtag generator, YouTube tags, Instagram hashtags, TikTok hashtags, AI content tools, social media optimization, viral content, SEO tags, how to generate tags, how to get more views, how to increase subscribers, how to go viral, trending hashtags, free tag generator",
        "inLanguage": "en-US",
        "audience": {
            "@type": "Audience",
            "audienceType": "Content Creators, Influencers, Marketers, YouTubers, Social Media Managers, Digital Marketers, Small Businesses, Global Audience"
        },
        "usageInfo": "https://turbotags.app/#faq",
        "softwareHelp": "https://turbotags.app/#faq",
        "screenshot": "desktop-screenshot.webp",
        "video": {
            "@type": "VideoObject",
            "name": "How to Use TurboTags",
            "description": "Learn how to Generate AI-powered tags and hashtags with TurboTags",
            "thumbnailUrl": "video-thumbnail.webp",
            "uploadDate": "2025-01-01"
        }
    }
    </script>

    <!-- Additional SEO Schema for Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "TurboTags",
        "url": "https://turbotags.app",
        "logo": "/logo.webp",
        "description": "Leading AI-powered social media optimization tools for content creators worldwide",
        "sameAs": [
            "https://twitter.com/TurboTagsApp",
            "https://www.linkedin.com/in/turbotags-support-173b0a375"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "Customer Support",
            "email": "helloturbotags@gmail.com",
            "availableLanguage": ["English"]
        }
    }
    </script>

    <!-- FAQ Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "How does TurboTags generate tags and hashtags?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "TurboTags uses advanced AI algorithms powered by OpenRouter (Mistral 7B Instruct primary, Google Gemini Flash fallback) to analyze your content description and generate relevant, SEO-optimized tags and hashtags. Our system considers current trends, search volume, and platform-specific optimization strategies."
                }
            },
            {
                "@type": "Question",
                "name": "Is TurboTags really free to use?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes! TurboTags is completely free to use. We believe in supporting content creators and helping them grow their audience without financial barriers. All core features including tag generation, hashtag creation, and search history are available at no cost."
                }
            },
            {
                "@type": "Question",
                "name": "Which platforms does TurboTags support?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Currently, TurboTags supports YouTube (tags and hashtags), Instagram (hashtags), TikTok (hashtags), and Facebook (hashtags). Each platform has optimized algorithms to ensure the best possible tag and hashtag suggestions for maximum reach and engagement."
                }
            }
        ]
    }
    </script>
</head>
<body style="background-color: #f5f5f5;">
    <!-- Floating Balls Background Animation -->
    <div class="floating-balls">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </div>

    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-consent" role="dialog" aria-live="polite" aria-label="Cookie Consent">
        <div class="max-w-6xl mx-auto flex flex-col sm:flex-row items-center justify-between">
            <div class="mb-4 sm:mb-0 sm:mr-4">
                <p class="text-sm">
                    🍪 We use cookies to enhance your experience and analyze our traffic.
                    <a href="legal/cookies.html" class="underline hover:text-gray-300" aria-label="Learn more about our cookie policy">Learn more about our cookie policy</a>
                </p>
            </div>
            <div class="flex space-x-4">
                <button id="acceptCookiesBtn" class="bg-violet-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-violet-700 transition" aria-label="Accept all cookies">
                    Accept All
                </button>
                <button id="rejectCookiesBtn" class="bg-gray-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-700 transition" aria-label="Reject cookies">
                    Reject
                </button>
            </div>
        </div>
    </div>

    <!-- Message Box -->
    <div id="messageBox" class="message-box" role="status" aria-live="polite"></div>

    <!-- Main Container - Adjusted to be full width -->
    <div class="full-width-container rounded-none shadow-xl space-y-6 sm:space-y-8 sm:p-4 md:p-6">

        <!-- Header Section -->
        <header class="text-center px-4 md:px-8 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <!-- TurboTags Logo -->
                    <div class="flex items-center">
                        <img src="favicon.svg" alt="TurboTags Logo" class="w-12 h-12 mr-3 thunder-icon-animated">
                        <h1 class="text-5xl md:text-6xl font-extrabold gradient-text leading-tight turbotags-heading">
                            TurboTags
                        </h1>
                    </div>
                </div>
                <!-- Desktop Navigation -->
                <nav class="desktop-nav hidden md:flex items-center space-x-6">
                    <a href="#" class="text-gray-800 hover:text-violet-600 font-medium transition">Home</a>
                    <a href="#why-choose" class="text-gray-800 hover:text-violet-600 font-medium transition">Features</a>
                    <a href="#blog" class="text-gray-800 hover:text-violet-600 font-medium transition">Blog</a>
                    <a href="legal/privacy.html" class="text-gray-800 hover:text-violet-600 font-medium transition">Privacy</a>
                    <a href="legal/terms.html" class="text-gray-800 hover:text-violet-600 font-medium transition">Terms</a>
                    <a href="legal/disclaimer.html" class="text-gray-800 hover:text-violet-600 font-medium transition">Disclaimer</a>
                    <!-- Ko-fi Support Button -->
                    <a href="https://ko-fi.com/turbotags1509" target="_blank" rel="noopener noreferrer" class="bg-[#151440] text-white px-4 py-2 rounded-lg flex items-center hover:opacity-90 transition" aria-label="Support us on Ko-fi">
                        <i class="fas fa-heart mr-2" aria-hidden="true"></i> Support ❤️
                    </a>
                </nav>
                <!-- Hamburger Menu for Mobile -->
                <button id="hamburgerBtn" class="hamburger-menu md:hidden text-gray-800 focus:outline-none" aria-label="Open mobile menu">
                    <i class="fas fa-bars text-3xl"></i>
                </button>
            </div>
            <p class="text-xl md:text-2xl font-semibold mt-2 text-[#151440]">
                AI-Powered Tags & Hashtags. Smarter Reach. Faster Growth. <span class="rocket-animated">🚀</span>
            </p>
            <div class="mt-4 flex justify-center space-x-4 flex-wrap gap-2">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#151440] text-white">
                    <span class="w-2 h-2 bg-white rounded-full mr-2" aria-hidden="true"></span>
                    Free to Use
                </span>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#151440] text-white">
                    <i class="fas fa-robot mr-2" aria-hidden="true"></i>
                    AI-Powered
                </span>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#151440] text-white">
                    <i class="fas fa-chart-line mr-2" aria-hidden="true"></i>
                    SEO Optimized
                </span>
            </div>
            <!-- "Try for free" button fixed -->
            <div class="mt-8">
                <a href="#tag-generator" class="btn-primary inline-flex items-center justify-center">
                    Try for Free Now! <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </header>

        <!-- Mobile Menu Overlay -->
        <div id="mobileMenu" class="mobile-menu">
            <button id="mobileMenuCloseBtn" class="mobile-menu-close-btn" aria-label="Close mobile menu">
                <i class="fas fa-times"></i>
            </button>
            <a href="#" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">Home</a>
            <a href="#why-choose" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">Features</a>
            <a href="#blog" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">Blog</a>
            <a href="legal/privacy.html" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">Privacy</a>
            <a href="legal/terms.html" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">Terms</a>
            <a href="legal/disclaimer.html" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">Disclaimer</a>
            <a href="https://ko-fi.com/turbotags1509" target="_blank" rel="noopener noreferrer" class="block py-4 text-white hover:bg-gray-700 transition" onclick="closeMobileMenu()">
                <i class="fas fa-heart mr-2" aria-hidden="true"></i> Support ❤️
            </a>
        </div>

        <!-- Hero Section -->
        <section class="hero-section">
            <div class="max-w-6xl mx-auto">
                <h1 class="hero-title">The #1 FREE AI-Powered Tags & Hashtags Generator</h1>
                <p class="hero-subtitle">Get instant, high-quality, and SEO-optimized tags and hashtags for YouTube, Instagram, TikTok & Facebook. Boost your content's worldwide visibility.</p>
                <div class="flex justify-center space-x-4 mt-6">
                    <a href="#tag-generator" class="btn-primary inline-flex items-center justify-center">
                        Start Generating Now <i class="fas fa-bolt ml-2"></i>
                    </a>
                    <a href="#demo" class="btn-secondary inline-flex items-center justify-center">
                        Watch Demo <i class="fas fa-play ml-2"></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="bg-white p-6 rounded-xl shadow-md">
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number">50K+</div>
                    <div class="stat-label">Happy Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1M+</div>
                    <div class="stat-label">Tags Generated</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Platforms Supported</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">99.9%</div>
                    <div class="stat-label">Uptime</div>
                </div>
            </div>
        </section>

        <!-- Platform Cards Section -->
        <section class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-[#151440] mb-6 text-center">Platforms We Support</h2>
            <div class="platform-cards">
                <div class="platform-card">
                    <div class="platform-icon text-red-500">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <h3 class="platform-name">YouTube</h3>
                    <p class="platform-description">Tags & Hashtags for maximum video discoverability</p>
                </div>
                <div class="platform-card">
                    <div class="platform-icon text-pink-500">
                        <i class="fab fa-instagram"></i>
                    </div>
                    <h3 class="platform-name">Instagram</h3>
                    <p class="platform-description">Hashtag optimization for better reach</p>
                </div>
                <div class="platform-card">
                    <div class="platform-icon text-black">
                        <i class="fab fa-tiktok"></i>
                    </div>
                    <h3 class="platform-name">TikTok</h3>
                    <p class="platform-description">Viral hashtags for maximum engagement</p>
                </div>
                <div class="platform-card">
                    <div class="platform-icon text-blue-600">
                        <i class="fab fa-facebook"></i>
                    </div>
                    <h3 class="platform-name">Facebook</h3>
                    <p class="platform-description">Content tags for better visibility</p>
                </div>
            </div>
        </section>

        <!-- Tag Generation Section -->
        <section class="bg-white p-6 rounded-xl shadow-md" id="tag-generator">
            <h2 class="text-3xl font-bold text-[#151440] mb-6 text-center">AI-Powered Tag Generator</h2>
            <p class="text-center text-gray-800 mb-8">Generate high-converting tags and hashtags with advanced AI technology for maximum global reach</p>

            <!-- Platform Tabs -->
            <div class="flex border-b border-gray-200 mb-6 bg-gray-50 rounded-t-lg overflow-hidden" role="tablist">
                <button id="youtubeTabBtn" class="tab-button active" data-tab="youtube" role="tab" aria-selected="true" aria-controls="youtubeTabContent">
                    <i class="fab fa-youtube text-red-500" aria-hidden="true"></i>
                    <span>YouTube</span>
                    <span class="text-xs text-gray-800 mt-1">Tags & #Tags</span>
                </button>
                <button id="instagramTabBtn" class="tab-button" data-tab="instagram" role="tab" aria-selected="false" aria-controls="instagramTabContent">
                    <i class="fab fa-instagram text-pink-500" aria-hidden="true"></i>
                    <span>Instagram</span>
                    <span class="text-xs text-gray-800 mt-1">#Hashtags</span>
                </button>
                <button id="tiktokTabBtn" class="tab-button" data-tab="tiktok" role="tab" aria-selected="false" aria-controls="tiktokTabContent">
                    <i class="fab fa-tiktok text-black" aria-hidden="true"></i>
                    <span>TikTok</span>
                    <span class="text-xs text-gray-800 mt-1">#Hashtags</span>
                </button>
                <button id="facebookTabBtn" class="tab-button" data-tab="facebook" role="tab" aria-selected="false" aria-controls="facebookTabContent">
                    <i class="fab fa-facebook text-blue-600" aria-hidden="true"></i>
                    <span>Facebook</span>
                    <span class="text-xs text-gray-800 mt-1">#Hashtags</span>
                </button>
            </div>

            <!-- Tab Content -->
            <div id="youtubeTabContent" class="tab-content" role="tabpanel" aria-labelledby="youtubeTabBtn">
                <div class="p-4 border border-gray-200 rounded-xl mb-4">
                    <label for="topicInput" class="block text-gray-800 text-lg font-semibold mb-2">Enter your content topic (e.g., cooking tutorial, gaming review, travel vlog...)</label>
                    <textarea id="topicInput" placeholder="e.g., 'Video about making homemade pizza. Key points: dough recipe, sauce, toppings, baking tips.'"
                            class="w-full p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg h-40" aria-label="YouTube video content description"></textarea>
                </div>

                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
                    <button id="generateYoutubeContentBtn" class="btn-primary flex items-center justify-center" aria-label="Generate YouTube tags and hashtags">
                        <i class="fas fa-tags mr-2" aria-hidden="true"></i> Generate Tags & #Tags
                    </button>
                    <button id="resetBtn" class="btn-secondary flex items-center justify-center" aria-label="Reset YouTube input">
                        <i class="fas fa-redo-alt mr-2" aria-hidden="true"></i> Reset
                    </button>
                </div>
            </div>

            <div id="instagramTabContent" class="tab-content hidden" role="tabpanel" aria-labelledby="instagramTabBtn">
                <label for="instagramTopicInput" class="block text-gray-800 text-lg font-semibold mb-2">Enter your content topic (e.g., food photography, travel, fashion...)</label>
                <textarea id="instagramTopicInput" placeholder="e.g., 'Photo of a sunset over the beach. Key points: vibrant colors, peaceful, travel, nature.'"
                          class="w-full p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg h-40 mb-4" aria-label="Instagram post content description"></textarea>

                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
                    <button id="generateInstagramHashtagsBtn" class="btn-primary flex items-center justify-center" data-platform="instagram-hashtags" aria-label="Generate Instagram hashtags">
                        <i class="fas fa-hashtag mr-2" aria-hidden="true"></i> Generate #Tags
                    </button>
                    <button id="resetInstagramBtn" class="btn-secondary flex items-center justify-center" aria-label="Reset Instagram input">
                        <i class="fas fa-redo-alt mr-2" aria-hidden="true"></i> Reset
                    </button>
                </div>
            </div>

            <div id="tiktokTabContent" class="tab-content hidden" role="tabpanel" aria-labelledby="tiktokTabBtn">
                <label for="tiktokTopicInput" class="block text-gray-800 text-lg font-semibold mb-2">Enter your content topic (e.g., dance challenge, comedy skit, life hack...)</label>
                <textarea id="tiktokTopicInput" placeholder="e.g., 'Short dance video with friends. Key points: fun, energetic, new trend, challenge.'"
                          class="w-full p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg h-40 mb-4" aria-label="TikTok video content description"></textarea>

                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
                    <button id="generateTiktokHashtagsBtn" class="btn-primary flex items-center justify-center" data-platform="tiktok-hashtags" aria-label="Generate TikTok hashtags">
                        <i class="fas fa-hashtag mr-2" aria-hidden="true"></i> Generate #Tags
                    </button>
                    <button id="resetTiktokBtn" class="btn-secondary flex items-center justify-center" aria-label="Reset TikTok input">
                        <i class="fas fa-redo-alt mr-2" aria-hidden="true"></i> Reset
                    </button>
                </div>
            </div>

            <div id="facebookTabContent" class="tab-content hidden" role="tabpanel" aria-labelledby="facebookTabBtn">
                <label for="facebookTopicInput" class="block text-gray-800 text-lg font-semibold mb-2">Enter your content topic (e.g., business update, product launch, event...)</label>
                <textarea id="facebookTopicInput" placeholder="e.g., 'Post about a new product launch. Key points: innovative, affordable, limited time offer.'"
                          class="w-full p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg h-40 mb-4" aria-label="Facebook post content description"></textarea>

                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
                    <button id="generateFacebookHashtagsBtn" class="btn-primary flex items-center justify-center" data-platform="facebook-hashtags" aria-label="Generate Facebook hashtags">
                        <i class="fas fa-hashtag mr-2" aria-hidden="true"></i> Generate #Tags
                    </button>
                    <button id="resetFacebookBtn" class="btn-secondary flex items-center justify-center" aria-label="Reset Facebook input">
                        <i class="fas fa-redo-alt mr-2" aria-hidden="true"></i> Reset
                    </button>
                </div>
            </div>

            <!-- Loading Indicator -->
            <div id="loadingIndicator" class="hidden flex justify-center items-center py-6" role="progressbar" aria-label="Generating tags and hashtags">
                <div class="loader"></div>
                <p class="ml-4 text-indigo-600 font-medium">Generating...</p>
            </div>

            <!-- Generated Tags Output -->
            <div id="tagsOutput" class="hidden bg-gray-50 p-6 rounded-xl shadow-md grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Tags Section -->
                <div id="tagsSection">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">Tags: <span id="tagsCount">(0)</span></h3>
                    <!-- Added flex-col and space-y-2 to ensure vertical stacking -->
                    <div id="tagList" class="min-h-[100px] border border-gray-200 rounded-lg p-4 bg-white flex flex-col space-y-2" aria-live="polite">
                        <!-- Tags will be injected here -->
                    </div>
                    <div class="mt-4 text-center">
                        <button id="copyAllTagsBtn" class="btn-primary text-sm py-2 px-4" aria-label="Copy all generated tags">
                            <i class="fas fa-copy mr-2" aria-hidden="true"></i> Copy All Tags
                        </button>
                    </div>
                </div>
                <!-- Hashtags Section -->
                <div id="hashtagsSection">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">#Tags: <span id="hashtagsCount">(0)</span></h3>
                    <!-- Added flex-col and space-y-2 to ensure vertical stacking -->
                    <div id="hashtagList" class="min-h-[100px] border border-gray-200 rounded-lg p-4 bg-white flex flex-col space-y-2" aria-live="polite">
                        <!-- Hashtags will be injected here -->
                    </div>
                    <div class="mt-4 text-center">
                        <button id="copyAllHashtagsBtn" class="btn-primary text-sm py-2 px-4" aria-label="Copy all generated hashtags">
                            <i class="fas fa-copy mr-2" aria-hidden="true"></i> Copy All #Tags
                        </button>
                    </div>
                </div>
            </div>

            <!-- Error Message (for API generation) -->
            <div id="errorMessage" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl relative mt-4" role="alert">
                <strong class="font-bold">Error!</strong>
                <span class="block sm:inline" id="errorText">Something went wrong. Please try again.</span>
            </div>

            <div class="mt-6 text-center">
                <p class="text-gray-600">Ready to generate amazing tags & #hashtags?</p>
                <p class="text-gray-600">Enter your content topic above and click "Generate Tags" to get started with global SEO optimization!</p>
            </div>
        </section>

        <!-- Demo Section -->
        <section class="bg-white p-6 rounded-xl shadow-md" id="demo">
            <h2 class="text-3xl font-bold text-[#151440] mb-6 text-center">See TurboTags in Action</h2>
            <p class="text-center text-gray-800 mb-8">Watch how easy it is to generate professional-grade tags and hashtags for maximum reach</p>
            
            <div class="bg-gray-100 rounded-xl p-8 text-center">
                <div class="max-w-4xl mx-auto">
                    <div class="aspect-w-16 aspect-h-9 bg-gray-300 rounded-lg flex items-center justify-center">
                        <i class="fas fa-play-circle text-6xl text-[#151440]"></i>
                    </div>
                    <h3 class="text-xl font-bold mt-4">Learn how to maximize your social media reach with AI-powered tags</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                        <div class="flex flex-col items-center">
                            <i class="fas fa-bolt text-2xl text-[#151440] mb-2"></i>
                            <span class="text-sm">✨ Instant Generation</span>
                            <span class="text-xs text-gray-600">Get results in seconds</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <i class="fas fa-bullseye text-2xl text-[#151440] mb-2"></i>
                            <span class="text-sm">🎯 Platform Specific</span>
                            <span class="text-xs text-gray-600">Optimized for each platform</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <i class="fas fa-chart-line text-2xl text-[#151440] mb-2"></i>
                            <span class="text-sm">📊 Trending Analysis</span>
                            <span class="text-xs text-gray-600">Real-time trend data</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <i class="fas fa-globe text-2xl text-[#151440] mb-2"></i>
                            <span class="text-sm">🌍 Global Reach</span>
                            <span class="text-xs text-gray-600">Worldwide optimization</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">About TurboTags</h2>
            <p class="text-gray-800 leading-relaxed mb-6 text-center">
                TurboTags is the world's most advanced AI-powered tag and hashtag generator, designed specifically for content creators and digital marketers who want to maximize their reach across all major social media platforms with global SEO optimization.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-crosshairs text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Precision Targeting</h3>
                    </div>
                    <p class="text-gray-800">
                        Generate laser-focused tags that connect with your exact audience demographic and interests.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-chart-bar text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Performance Analytics</h3>
                    </div>
                    <p class="text-gray-800">
                        Built-in trending percentages help you choose tags with the highest engagement potential.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-bolt text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Instant Results</h3>
                    </div>
                    <p class="text-gray-800">
                        Get professional-grade tags and hashtags in seconds, not hours of manual research.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-lock text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Privacy First</h3>
                    </div>
                    <p class="text-gray-800">
                        No registration required. Your content ideas and strategies remain completely private.
                    </p>
                </div>
            </div>

            <div class="mt-8 text-center">
                <p class="text-gray-800 font-medium mb-4">Trusted by over 50,000 content creators worldwide for social media growth and global audience reach</p>
                <a href="#tag-generator" class="btn-primary inline-flex items-center justify-center">
                    Start Generating Now - It's Free! <i class="fas fa-bolt ml-2"></i>
                </a>
            </div>
        </section>

        <!-- Why Choose TurboTags Section -->
        <section class="bg-white p-6 rounded-xl shadow-md" id="why-choose">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-extrabold text-[#151440] mb-4">Why Choose TurboTags?</h2>
                <p class="text-xl text-gray-800 max-w-3xl mx-auto">
                    Powerful features designed for content creators and digital marketers seeking global reach optimization
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6">
                <!-- Feature 1 -->
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-robot text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">AI-Powered Generation</h3>
                    </div>
                    <p class="text-gray-800">
                        Advanced AI algorithms generate highly relevant and trending tags for maximum reach across global audiences.
                    </p>
                </div>

                <!-- Feature 2 -->
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-globe text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Global SEO Optimization</h3>
                    </div>
                    <p class="text-gray-800">
                        Multi-language support and international SEO features to help you reach audiences worldwide with optimized anchor text strategies.
                    </p>
                </div>

                <!-- Feature 3 -->
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-chart-line text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Real-time Trending Analysis</h3>
                    </div>
                    <p class="text-gray-800">
                        Live trend monitoring ensures your content stays relevant with the latest viral hashtags and trending keywords.
                    </p>
                </div>

                <!-- Feature 4 -->
                <div class="feature-card">
                    <div class="flex items-center mb-4">
                        <div class="bg-[#151440] text-white p-3 rounded-full mr-4">
                            <i class="fas fa-bullseye text-xl" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-bold">Creator & Business Focused</h3>
                    </div>
                    <p class="text-gray-800">
                        Purpose-built for content creators, digital marketers, and businesses seeking to maximize their social media ROI.
                    </p>
                </div>
            </div>
        </section>

        <!-- Testimonial Section -->
        <section class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Rated 4.9/5 by 50,000+ Users Worldwide</h2>
            <div class="bg-gray-50 p-8 rounded-xl text-center max-w-4xl mx-auto">
                <blockquote class="text-xl italic text-gray-800 mb-6">
                    "TurboTags has revolutionized my content creation process. The AI-generated tags are spot-on and have significantly increased my reach across all platforms. Perfect for global SEO optimization."
                </blockquote>
                <div class="font-bold text-[#151440]">- Sarah M., Content Creator & Digital Marketer</div>
            </div>
        </section>

        <!-- Coming Soon Features -->
        <section class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Coming Soon Features</h2>
            <p class="text-center text-gray-800 mb-8">
                Exciting new features are in development to make TurboTags even more powerful
            </p>

            <!-- Adjusted grid for 3 items to fill space -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Feature 1 -->
                <div class="premium-card">
                    <div class="bg-[#151440] text-white p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-heading text-2xl" aria-hidden="true"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">YouTube Title Generator</h3>
                    <p class="text-gray-800 text-center text-sm mb-4">
                        AI-powered YouTube title generation for maximum click-through rates.
                    </p>
                    <div class="text-center text-gray-800 text-sm">
                        <i class="fas fa-clock mr-1" aria-hidden="true"></i> Coming Soon
                    </div>
                </div>

                <!-- Feature 2 -->
                <div class="premium-card">
                    <div class="bg-[#151440] text-white p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-file-alt text-2xl" aria-hidden="true"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">YouTube Description Generator</h3>
                    <p class="text-gray-800 text-center text-sm mb-4">
                        Create compelling YouTube descriptions that boost engagement and SEO.
                    </p>
                    <div class="text-center text-gray-800 text-sm">
                        <i class="fas fa-clock mr-1" aria-hidden="true"></i> Coming Soon
                    </div>
                </div>

                <!-- Feature 3 -->
                <div class="premium-card">
                    <div class="bg-[#151440] text-white p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-image text-2xl" aria-hidden="true"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">YouTube Thumbnail Generator</h3>
                    <p class="text-gray-800 text-center text-sm mb-4">
                        AI-generated thumbnails that attract viewers and increase click rates.
                    </p>
                    <div class="text-center text-gray-800 text-sm">
                        <i class="fas fa-clock mr-1" aria-hidden="true"></i> Coming Soon
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="bg-white p-6 rounded-xl shadow-md" id="faq">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Frequently Asked Questions</h2>
            <div class="max-w-3xl mx-auto">
                <!-- FAQ Item 1 -->
                <div class="faq-item">
                    <div class="faq-question" role="button" aria-expanded="false" tabindex="0">
                        <span>How does TurboTags generate tags and hashtags?</span>
                        <i class="fas fa-chevron-down transition-transform" aria-hidden="true"></i>
                    </div>
                    <div class="faq-answer">
                        <p class="text-gray-800 mt-2">
                            TurboTags uses advanced AI algorithms powered by OpenRouter (Mistral 7B Instruct primary, Google Gemini Flash fallback) to analyze your content description and generate relevant, SEO-optimized tags and hashtags. Our system considers current trends, search volume, and platform-specific optimization strategies."
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="faq-item">
                    <div class="faq-question" role="button" aria-expanded="false" tabindex="0">
                        <span>Is TurboTags really free to use?</span>
                        <i class="fas fa-chevron-down transition-transform" aria-hidden="true"></i>
                    </div>
                    <div class="faq-answer">
                        <p class="text-gray-800 mt-2">
                            Yes! TurboTags is completely free to use. We believe in supporting content creators and helping them grow their audience without financial barriers. All core features including tag generation, hashtag creation, and search history are available at no cost.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div class="faq-item">
                    <div class="faq-question" role="button" aria-expanded="false" tabindex="0">
                        <span>Which platforms does TurboTags support?</span>
                        <i class="fas fa-chevron-down transition-transform" aria-hidden="true"></i>
                    </div>
                    <div class="faq-answer">
                        <p class="text-gray-800 mt-2">
                            Currently, TurboTags supports YouTube (tags and hashtags), Instagram (hashtags), TikTok (hashtags), and Facebook (hashtags). Each platform has optimized algorithms to ensure the best possible tag and hashtag suggestions for maximum reach and engagement."
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div class="faq-item">
                    <div class="faq-question" role="button" aria-expanded="false" tabindex="0">
                        <span>How many tags and hashtags can I generate?</span>
                        <i class="fas fa-chevron-down transition-transform" aria-hidden="true"></i>
                    </div>
                    <div class="faq-answer">
                        <p class="text-gray-800 mt-2">
                            TurboTags generates 15-20 optimized tags and hashtags per request (25 maximum), which is ideal for most platforms. YouTube allows up to 500 characters in tags, while Instagram and TikTok have their own best practices that our system follows automatically.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 5 -->
                <div class="faq-item">
                    <div class="faq-question" role="button" aria-expanded="false" tabindex="0">
                        <span>Can I save my search history?</span>
                        <i class="fas fa-chevron-down transition-transform" aria-hidden="true"></i>
                    </div>
                    <div class="faq-answer">
                        <p class="text-gray-800 mt-2">
                            Yes! TurboTags automatically saves your recent searches locally in your browser. You can revisit previous searches, reuse successful tag combinations, and delete individual searches or clear your entire history at any time.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Google AdSense Ads Section -->
        <section class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Sponsored Content</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Google AdSense Ad Placeholder 1 -->
                <div class="ad-placeholder">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7231854986385753" crossorigin="anonymous"></script>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7231854986385753"
                         data-ad-slot="1234567890"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                <!-- Google AdSense Ad Placeholder 2 -->
                <div class="ad-placeholder">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7231854986385753" crossorigin="anonymous"></script>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7231854986385753"
                         data-ad-slot="2345678901"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                <!-- Google AdSense Ad Placeholder 3 -->
                <div class="ad-placeholder">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7231854986385753" crossorigin="anonymous"></script>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7231854986385753"
                         data-ad-slot="3456789012"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
        </section>

        <!-- Footer Section -->
        <footer class="text-center text-gray-800 text-sm mt-8 border-t border-gray-200 pt-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8 text-left">
                <div>
                    <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                        <!-- TurboTags Logo -->
                        <img src="favicon.svg" alt="TurboTags Logo" class="w-6 h-6 mr-2 thunder-icon-animated">
                        TurboTags
                    </h3>
                    <p class="text-xs text-gray-800 leading-relaxed">
                        The #1 FREE AI-Powered Tags & Hashtags Generator for YouTube, Instagram, TikTok & Facebook.
                    </p>
                    <p class="text-xs text-gray-800 mt-2">
                        Made with <i class="fas fa-heart text-red-500"></i> for creators
                    </p>
                </div>

                <div>
                    <h4 class="font-semibold text-gray-800 mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-xs">
                        <li><a href="#" class="hover:text-violet-600 transition">Home</a></li>
                        <li><a href="#why-choose" class="hover:text-violet-600 transition">Features</a></li>
                        <li><a href="#blog" class="hover:text-violet-600 transition">Blog</a></li>
                        <li><a href="#tag-generator" class="hover:text-violet-600 transition">Generator</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-semibold text-gray-800 mb-4">Legal</h4>
                    <ul class="space-y-2 text-xs">
                        <li><a href="legal/privacy.html" class="hover:text-violet-600 transition" aria-label="Read our privacy policy">Privacy Policy</a></li>
                        <li><a href="legal/terms.html" class="hover:text-violet-600 transition" aria-label="Read our terms of service">Terms of Service</a></li>
                        <li><a href="legal/disclaimer.html" class="hover:text-violet-600 transition" aria-label="Read our disclaimer">Disclaimer</a></li>
                        <li><a href="legal/cookies.html" class="hover:text-violet-600 transition" aria-label="Read our cookie policy">Cookie Policy</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-semibold text-gray-800 mb-4">Support</h4>
                    <ul class="space-y-2 text-xs">
                        <li><a href="#" id="contactEmailLink" class="hover:text-violet-600 transition"><i class="fas fa-envelope mr-2"></i>Contact Us</a></li>
                        <li><a href="https://ko-fi.com/turbotags1509" target="_blank" rel="noopener noreferrer" class="hover:text-violet-600 transition"><i class="fas fa-heart mr-2"></i>Support Us ❤️</a></li>
                        <li><a href="https://twitter.com/TurboTagsApp" target="_blank" rel="noopener noreferrer" class="hover:text-violet-600 transition"><i class="fab fa-twitter mr-2"></i>Twitter</a></li>
                        <li><a href="https://www.linkedin.com/in/turbotags-support-173b0a375" target="_blank" rel="noopener noreferrer" class="hover:text-violet-600 transition"><i class="fab fa-linkedin-in mr-2"></i>LinkedIn</a></li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-gray-200 pt-6">
                <p class="mb-2">&copy; 2025 TurboTags. All rights reserved.</p>
                <p class="text-xs text-gray-800">
                    Powered by AI
                    <span class="mx-2">•</span>
                    <a href="legal/disclaimer.html" class="hover:text-violet-600 transition" aria-label="Read our legal disclaimer">Legal Disclaimer</a>
                </p>
            </div>
        </footer>
    </div>

    <!-- Custom Confirmation Modal for Clear History -->
    <div id="confirmModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="confirmModalTitle">
        <div class="modal-content">
            <h3 id="confirmModalTitle" class="text-xl font-bold mb-4">Confirm Action</h3>
            <p id="confirmMessage" class="mb-6 text-gray-800">Are you sure you want to proceed?</p>
            <div class="flex justify-center space-x-4">
                <button id="confirmYesBtn" class="confirm-yes" aria-label="Confirm yes">Yes</button>
                <button id="confirmNoBtn" class="confirm-no" aria-label="Confirm no">No</button>
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button onclick="window.topFunction()" id="scrollToTopBtn" title="Go to top" aria-label="Scroll to top">
        <i class="fas fa-arrow-up" aria-hidden="true"></i>
    </button>

    <!-- Main Application Script (including Firebase initialization) - MOVED TO END OF BODY -->
    <script type="module" defer>
        // Ensure __firebase_config and __app_id are defined, even if the environment doesn't inject them.
        // This prevents ReferenceErrors if running outside the Canvas environment.
        let __firebase_config_env = typeof __firebase_config !== 'undefined' ? __firebase_config : undefined;
        let __app_id_env = typeof __app_id !== 'undefined' ? __app_id : undefined;
        let __initial_auth_token_env = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : undefined;

        // Import Firebase functions from CDN
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, onSnapshot, serverTimestamp, deleteDoc, doc, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global Firebase variables
        window.firebaseApp = null;
        window.db = null;
        window.auth = null;
        window.userId = null;
        window.isAuthReady = false;
        let firebaseAuthReadyPromiseResolve;
        window.firebaseAuthReadyPromise = new Promise(resolve => {
            firebaseAuthReadyPromiseResolve = resolve;
        });

        // Expose Firebase functions globally for use in the main script
        window.firebase = {
            db: () => window.db,
            auth: () => window.auth,
            userId: () => window.userId,
            isAuthReady: () => window.isAuthReady,
            collection, addDoc, query, onSnapshot, serverTimestamp, deleteDoc, doc, getDocs
        };

        // Helper function for dummy Firebase config
        function getDummyFirebaseConfig() {
            return {
                apiKey: "dummy-api-key-for-canvas",
                authDomain: "dummy-auth-domain.firebaseapp.com",
                projectId: "dummy-project-id",
                storageBucket: "dummy-storage-bucket",
                messagingSenderId: "dummy-sender-id",
                appId: "dummy-app-id",
                measurementId: "G-DUMMY"
            };
        }

        // Initialize Firebase
        let firebaseConfig = {};
        let currentAppId = 'turbotags-default-app'; // Default APP_ID for internal data storage.

        // Check if running in the Canvas environment using the safely defined variables
        const isCanvasEnvironment = typeof __firebase_config_env !== 'undefined' && typeof __app_id_env !== 'undefined';

        if (isCanvasEnvironment) {
            try {
                // Safely parse or assign __firebase_config_env
                if (typeof __firebase_config_env === 'string') {
                    const parsedConfig = JSON.parse(__firebase_config_env);
                    if (parsedConfig && Object.keys(parsedConfig).length > 0) {
                        firebaseConfig = parsedConfig;
                        console.log("Firebase: Initializing with Canvas-injected config (parsed string).");
                    } else {
                        console.warn("Firebase: Canvas __firebase_config_env string is empty or incomplete. Using dummy config for initialization. Firebase features will NOT work.");
                        firebaseConfig = getDummyFirebaseConfig();
                    }
                } else if (typeof __firebase_config_env === 'object' && __firebase_config_env !== null) {
                    firebaseConfig = __firebase_config_env;
                    console.log("Firebase: Initializing with Canvas-injected config (direct object).");
                } else {
                    console.warn("Firebase: Canvas __firebase_config_env is neither string nor object. Using dummy config for initialization. Firebase features will NOT work.");
                    firebaseConfig = getDummyFirebaseConfig();
                }
            } catch (e) {
                console.error("Firebase: Error processing __firebase_config_env. Using dummy config. Error:", e);
                firebaseConfig = getDummyFirebaseConfig();
            }

            // Safely assign __app_id_env
            if (typeof __app_id_env === 'string' && __app_id_env) {
                currentAppId = __app_id_env;
                console.log("Canvas: Using __app_id_env for internal data storage:", currentAppId);
            } else {
                console.warn("Canvas: __app_id_env not found or empty. Using default APP_ID for internal data storage:", currentAppId);
            }

        } else {
            // Fallback for local development or non-Canvas environments
            firebaseConfig = {
                apiKey: "AIzaSyCdQdG1cqcmUDwSSUlFVrP9arOV3qvdCpE",
                authDomain: "turbotags-b4ca1.firebaseapp.com",
                projectId: "turbotags-b4ca1",
                storageBucket: "turbotags-b4ca1.firebasestorage.app",
                messagingSenderId: "766845880079",
                appId: "1:766845880079:web:6de73355da50bf0531607a",
                measurementId: "G-MP18L879VZ"
            };
            console.warn("Firebase: Not in Canvas environment. Using provided Firebase config.");

            currentAppId = firebaseConfig.appId || 'turbotags-default-app';
            console.log("Using App ID for collection path (non-Canvas):", currentAppId);
        }

        // Initialize Firebase app if a valid API key is present
        if (Object.keys(firebaseConfig).length > 0 && firebaseConfig.apiKey && !firebaseConfig.apiKey.includes("dummy-api-key") && !firebaseConfig.apiKey.includes("YOUR_FIREBASE_API_KEY_HERE")) {
            window.firebaseApp = initializeApp(firebaseConfig);
            window.db = getFirestore(window.firebaseApp);
            window.auth = getAuth(window.firebaseApp);

            // Listen for auth state changes and sign in
            onAuthStateChanged(window.auth, async (user) => {
                if (user) {
                    window.userId = user.uid;
                } else {
                    try {
                        const initialAuthToken = __initial_auth_token_env; // Use the safely defined variable
                        if (initialAuthToken) {
                            await signInWithCustomToken(window.auth, initialAuthToken);
                        } else {
                            await signInAnonymously(window.auth);
                        }
                        window.userId = window.auth.currentUser.uid;
                    } catch (error) {
                        console.error("Error signing in anonymously:", error);
                        window.userId = crypto.randomUUID(); // Fallback to random UUID if sign-in fails
                    }
                }
                window.isAuthReady = true;
                console.log("Firebase Auth Ready. User ID:", window.userId);
                firebaseAuthReadyPromiseResolve();
            });
        } else {
            console.warn("Firebase: Real Firebase initialization skipped. Features dependent on it will not work.");
            window.userId = crypto.randomUUID(); // Generate a random UUID if Firebase is not initialized
            window.isAuthReady = true;
            firebaseAuthReadyPromiseResolve();
        }

        // DOM Elements for Tag/Hashtag Generation
        const youtubeTabBtn = document.getElementById('youtubeTabBtn');
        const instagramTabBtn = document.getElementById('instagramTabBtn');
        const tiktokTabBtn = document.getElementById('tiktokTabBtn');
        const facebookTabBtn = document.getElementById('facebookTabBtn');

        const youtubeTabContent = document.getElementById('youtubeTabContent');
        const instagramTabContent = document.getElementById('instagramTabContent');
        const tiktokTabContent = document.getElementById('tiktokTabContent');
        const facebookTabContent = document.getElementById('facebookTabContent');

        const topicInput = document.getElementById('topicInput');
        const instagramTopicInput = document.getElementById('instagramTopicInput');
        const tiktokTopicInput = document.getElementById('tiktokTopicInput');
        const facebookTopicInput = document.getElementById('facebookTopicInput');

        const generateYoutubeContentBtn = document.getElementById('generateYoutubeContentBtn');
        const generateInstagramHashtagsBtn = document.getElementById('generateInstagramHashtagsBtn');
        const generateTiktokHashtagsBtn = document.getElementById('generateTiktokHashtagsBtn');
        const generateFacebookHashtagsBtn = document.getElementById('generateFacebookHashtagsBtn');
        const resetBtn = document.getElementById('resetBtn');
        const resetInstagramBtn = document.getElementById('resetInstagramBtn');
        const resetTiktokBtn = document.getElementById('resetTiktokBtn');
        const resetFacebookBtn = document.getElementById('resetFacebookBtn');

        const tagsOutput = document.getElementById('tagsOutput');
        const tagsSection = document.getElementById('tagsSection');
        const hashtagList = document.getElementById('hashtagList');
        const tagList = document.getElementById('tagList');
        const tagsCount = document.getElementById('tagsCount');
        const hashtagsCount = document.getElementById('hashtagsCount');
        const copyAllTagsBtn = document.getElementById('copyAllTagsBtn');
        const copyAllHashtagsBtn = document.getElementById('copyAllHashtagsBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorMessage = document.getElementById('errorMessage');
        const errorText = document.getElementById('errorText');

        // Message Box Element
        const messageBox = document.getElementById('messageBox');

        // Custom Confirmation Modal Elements
        const confirmModal = document.getElementById('confirmModal');
        const confirmMessage = document.getElementById('confirmMessage');
        const confirmYesBtn = document.getElementById('confirmYesBtn');
        const confirmNoBtn = document.getElementById('confirmNoBtn');
        let confirmActionResolve = null;

        // Cookie Consent Buttons
        const acceptCookiesBtn = document.getElementById('acceptCookiesBtn');
        const rejectCookiesBtn = document.getElementById('rejectCookiesBtn');

        // Mobile Menu Elements
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuCloseBtn = document.getElementById('mobileMenuCloseBtn');

        let activeTab = 'youtube';

        // Fallback data for tags/hashtags if API fails
        const fallbackData = {
            'youtube-tags': [
                'youtube seo', 'video marketing', 'content creation', 'youtube tips', 'grow youtube channel',
                'video optimization', 'youtube strategy', 'digital marketing', 'online video', 'creator tips',
                'youtube tutorial', 'audience growth', 'keyword research', 'video production', 'youtube algorithm'
            ],
            'youtube-hashtags': [
                '#YouTubeTips', '#VideoMarketing', '#ContentCreator', '#GrowYourChannel', '#SEOTips',
                '#YouTubeSEO', '#DigitalMarketing', '#OnlineVideo', '#CreatorLife', '#YouTubeGrowth',
                '#VideoStrategy', '#ChannelGrowth', '#YouTubeCommunity', '#VideoEditing', '#YouTubeHelp'
            ],
            'instagram-hashtags': [
                '#InstagramTips', '#InstaGrowth', '#SocialMediaMarketing', '#ContentStrategy', '#VisualContent',
                '#InstaDaily', '#PhotoOfTheDay', '#CreativeContent', '#BrandBuilding', '#Engagement',
                '#InstaSEO', '#HashtagStrategy', '#DigitalCreator', '#OnlinePresence', '#InfluencerTips'
            ],
            'tiktok-hashtags': [
                '#TikTokTips', '#ForYouPage', '#ViralVideo', '#TikTokGrowth', '#ShortFormVideo',
                '#TikTokDance', '#CreativeContent', '#ChallengeAccepted', '#TrendAlert', '#TikTokMarketing',
                '#ContentCreation', '#FYP', '#TikTokCreator', '#VideoIdeas', '#SocialMediaTips'
            ],
            'facebook-hashtags': [
                '#FacebookMarketing', '#SocialMediaTips', '#DigitalMarketing', '#ContentStrategy', '#BusinessGrowth',
                '#FacebookSEO', '#EngagementTips', '#ViralContent', '#BrandAwareness', '#SocialMediaManager',
                '#FacebookAds', '#MarketingStrategy', '#SmallBusiness', '#EntrepreneurLife', '#DigitalCreator'
            ]
        };

        // Initialize tabs
        selectTab('youtube');

        // Event Listeners for Platform Tabs
        youtubeTabBtn.addEventListener('click', () => selectTab('youtube'));
        instagramTabBtn.addEventListener('click', () => selectTab('instagram'));
        tiktokTabBtn.addEventListener('click', () => selectTab('tiktok'));
        facebookTabBtn.addEventListener('click', () => selectTab('facebook'));

        // Event Listeners for Generate Buttons (Tag/Hashtag)
        generateYoutubeContentBtn.addEventListener('click', () => generateYouTubeTagsAndHashtags());
        generateInstagramHashtagsBtn.addEventListener('click', () => generateTagsOrHashtags('instagram-hashtags'));
        generateTiktokHashtagsBtn.addEventListener('click', () => generateTagsOrHashtags('tiktok-hashtags'));
        generateFacebookHashtagsBtn.addEventListener('click', () => generateTagsOrHashtags('facebook-hashtags'));

        // Event Listeners for Reset Buttons
        resetBtn.addEventListener('click', resetApp);
        resetInstagramBtn.addEventListener('click', resetApp);
        resetTiktokBtn.addEventListener('click', resetApp);
        resetFacebookBtn.addEventListener('click', resetApp);

        // Event Listener for Copy All Tags Button
        copyAllTagsBtn.addEventListener('click', copyAllTags);

        // Event Listener for Copy All Hashtags Button
        copyAllHashtagsBtn.addEventListener('click', copyAllHashtags);

        // Event Listeners for Mobile Menu
        hamburgerBtn.addEventListener('click', openMobileMenu);
        mobileMenuCloseBtn.addEventListener('click', closeMobileMenu);

        /**
         * Displays a temporary message box for user feedback.
         * @param {string} message - The message to display.
         * @param {boolean} isError - True if it's an error message, false for success/info.
         */
        function showMessageBox(message, isError = false) {
            console.log("Showing message box:", message, "Is error:", isError);
            messageBox.textContent = message;
            messageBox.className = 'message-box show';
            if (isError) {
                messageBox.classList.add('error');
            } else {
                messageBox.classList.remove('error');
            }
            setTimeout(() => {
                messageBox.classList.remove('show');
            }, 3000);
        }

        /**
         * Switches between platform tabs.
         * @param {string} tabName - The name of the tab to activate ('youtube', 'instagram', 'tiktok', 'facebook').
         */
        function selectTab(tabName) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));

            if (tabName === 'youtube') {
                youtubeTabBtn.classList.add('active');
                youtubeTabContent.classList.remove('hidden');
                tagsSection.classList.remove('hidden');
                tagsOutput.classList.remove('grid-cols-1');
                tagsOutput.classList.add('md:grid-cols-2');
            } else if (tabName === 'instagram') {
                instagramTabBtn.classList.add('active');
                instagramTabContent.classList.remove('hidden');
                tagsSection.classList.add('hidden');
                tagsOutput.classList.remove('md:grid-cols-2');
                tagsOutput.classList.add('grid-cols-1');
            } else if (tabName === 'tiktok') {
                tiktokTabBtn.classList.add('active');
                tiktokTabContent.classList.remove('hidden');
                tiktokTabContent.classList.add('grid-cols-1');
            } else if (tabName === 'facebook') {
                facebookTabBtn.classList.add('active');
                facebookTabContent.classList.remove('hidden');
                facebookTabContent.classList.add('grid-cols-1');
            }
            activeTab = tabName;
            resetOutputAndErrors();
        }

        /**
         * Opens the mobile navigation menu.
         */
        function openMobileMenu() {
            mobileMenu.classList.add('open');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
        }

        /**
         * Closes the mobile navigation menu.
         */
        function closeMobileMenu() {
            mobileMenu.classList.remove('open');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        }

        /**
         * Generates tags or hashtags based on user input and selected platform using AI.
         * This function is for Instagram, TikTok, and Facebook.
         * @param {string} platformType - The platform and type to generate for (e.g., 'instagram-hashtags', 'tiktok-hashtags', 'facebook-hashtags').
         */
        async function generateTagsOrHashtags(platformType) {
            let topic = '';
            let inputElement = null;

            if (platformType.includes('instagram')) {
                topic = instagramTopicInput.value.trim();
                inputElement = instagramTopicInput;
            } else if (platformType.includes('tiktok')) {
                topic = tiktokTopicInput.value.trim();
                inputElement = tiktokTopicInput;
            } else if (platformType.includes('facebook')) {
                topic = facebookTopicInput.value.trim();
                inputElement = facebookTopicInput;
            }

            if (!topic) {
                showMessageBox('Please enter content description for tag/hashtag generation.', true);
                return;
            }

            loadingIndicator.classList.remove('hidden');
            tagsOutput.classList.add('hidden');
            hideErrorMessage();

            let prompt = `Generate 15-20 concise, relevant, and **trending** hashtags for `;
            if (platformType === 'instagram-hashtags') {
                prompt += `an Instagram post about "${topic}". Provide them as a **comma-separated list** of single-word or short phrases, each starting with '#'.`;
            } else if (platformType === 'tiktok-hashtags') {
                prompt += `a TikTok video about "${topic}". Provide them as a **comma-separated list** of single-word or short phrases, each starting with '#'.`;
            } else if (platformType === 'facebook-hashtags') {
                prompt += `a Facebook post about "${topic}". Provide them as a **comma-separated list** of single-word or short phrases, each starting with '#'.`;
            }

            try {
                await window.firebaseAuthReadyPromise; // Ensure Firebase auth is ready

                const result = await callAIAPI(prompt); // Call the AI via the serverless function

                let generatedText = '';
                if (result && result.text) {
                    generatedText = result.text;
                    displayTagsAndHashtags('', generatedText, platformType);
                    showMessageBox('Hashtags generated successfully!');
                    saveSearch(topic, platformType.replace('-hashtags', ''), '', generatedText);
                } else {
                    // This block should ideally not be reached if callAIAPI throws an error
                    // but as a safeguard, if it returns an empty/invalid result, use fallback
                    displayTagsAndHashtagsFromFallback(platformType);
                    showMessageBox('Could not generate tags. Using fallback data.', true);
                }

            } catch (error) {
                console.error('Error generating tags:', error);
                displayTagsAndHashtagsFromFallback(platformType);
                showMessageBox('Failed to connect to the tag generation service. Using fallback data.', true);
            } finally {
                loadingIndicator.classList.add('hidden');
            }
        }

        /**
         * Generates both YouTube tags and hashtags with a single button click.
         */
        async function generateYouTubeTagsAndHashtags() {
            const topic = topicInput.value.trim();

            if (!topic) {
                showMessageBox('Please enter content description for YouTube content generation.', true);
                return;
            }

            loadingIndicator.classList.remove('hidden');
            tagsOutput.classList.add('hidden');
            hideErrorMessage();

            let generatedTags = '';
            let generatedHashtags = '';
            let errorOccurred = false;

            await window.firebaseAuthReadyPromise; // Ensure Firebase auth is ready

            // Generate YouTube Tags
            try {
                const tagsPrompt = `Generate 15-20 short, keyword-like, and SEO-friendly tags for a YouTube video about "${topic}". Provide them as a comma-separated list of phrases, suitable for YouTube tags.`;
                const tagsResponse = await callAIAPI(tagsPrompt); // Call the AI via the serverless function
                if (tagsResponse && tagsResponse.text) {
                    generatedTags = tagsResponse.text;
                } else {
                    generatedTags = fallbackData['youtube-tags'].join(', ');
                    errorOccurred = true;
                }
            } catch (error) {
                console.error('Error generating YouTube tags:', error);
                generatedTags = fallbackData['youtube-tags'].join(', ');
                errorOccurred = true;
            }

            // Generate YouTube Hashtags
            try {
                const hashtagsPrompt = `Generate 15-20 concise, relevant, and **trending** hashtags for a YouTube video about "${topic}". Provide them as a **comma-separated list** of single-word or short phrases, each starting with '#'.`;
                const hashtagsResponse = await callAIAPI(hashtagsPrompt); // Call the AI via the serverless function
                if (hashtagsResponse && hashtagsResponse.text) {
                    generatedHashtags = hashtagsResponse.text;
                } else {
                    generatedHashtags = fallbackData['youtube-hashtags'].join(', ');
                    errorOccurred = true;
                }
            } catch (error) {
                console.error('Error generating YouTube hashtags:', error);
                generatedHashtags = fallbackData['youtube-hashtags'].join(', ');
                errorOccurred = true;
            }

            displayTagsAndHashtags(generatedTags, generatedHashtags, 'youtube-combined');
            saveSearch(topic, 'youtube', generatedTags, generatedHashtags);

            if (errorOccurred) {
                showMessageBox('Some content could not be generated. Using fallback data.', true);
            } else {
                showMessageBox('Tags and hashtags generated successfully!');
            }
            loadingIndicator.classList.add('hidden');
        }

        /**
         * Helper function to call the Vercel Serverless Function.
         * @param {string} prompt - The text prompt for the AI.
         * @returns {Promise<object>} - The JSON response from the successful AI call, containing a 'text' property.
         * @throws {Error} If the API call fails or returns an unexpected structure.
         */
        async function callAIAPI(prompt) {
            try {
                console.log("Attempting call to Vercel serverless function at /api/generate...");
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt: prompt })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`API error: ${response.status} ${response.statusText} - ${errorData.error || 'Unknown error'}`);
                }

                const result = await response.json();
                if (result && result.text) {
                    console.log("API call successful.");
                    return result;
                } else {
                    throw new Error("API response missing text or unexpected structure.");
                }
            } catch (error) {
                console.error('Error calling /api/generate:', error);
                throw error; // Re-throw to be caught by the calling function for fallback data
            }
        }

        /**
         * Generates a random trend percentage between 60 and 99.
         * @returns {number} - A random integer.
         */
        function getRandomTrendPercentage() {
            return Math.floor(Math.random() * (99 - 60 + 1)) + 60;
        }

        /**
         * Displays the generated tags/hashtags in the output area.
         * @param {string} tagsString - A comma-separated string of tags.
         * @param {string} hashtagsString - A comma-separated string of hashtags.
         * @param {string} platformType - The type of content generated (e.g., 'youtube-combined', 'instagram-hashtags').
         */
        function displayTagsAndHashtags(tagsString, hashtagsString, platformType) {
            tagList.innerHTML = '';
            hashtagList.innerHTML = '';
            tagsCount.textContent = '(0)';
            hashtagsCount.textContent = '(0)';

            const tags = tagsString.split(',').map(tag => tag.trim()).filter(tag => tag !== '');
            const hashtags = hashtagsString.split(',').map(hashtag => hashtag.trim()).filter(hashtag => hashtag !== '');

            // Limit to 25 items maximum (15-20 is the target)
            const limitedTags = tags.slice(0, 25);
            const limitedHashtags = hashtags.slice(0, 25);

            if (platformType === 'youtube-combined') {
                tagsSection.classList.remove('hidden');
                tagsOutput.classList.remove('grid-cols-1');
                tagsOutput.classList.add('md:grid-cols-2');
                limitedTags.forEach(tag => {
                    const trend = getRandomTrendPercentage();
                    const tagDiv = document.createElement('div');
                    tagDiv.className = 'tag-item animate-fade-in';
                    tagDiv.innerHTML = `
                        <span class="text-gray-800 text-base font-medium flex-grow min-w-0">${tag}</span>
                        <span class="trend-percentage">${trend}%</span>
                        <button class="copy-btn bg-indigo-100 text-indigo-700 px-3 py-1 rounded-md text-sm font-semibold hover:bg-indigo-200 transition duration-200 ease-in-out ml-4" data-tag="${tag}" aria-label="Copy tag: ${tag}">
                            Copy
                        </button>
                    `;
                    tagList.appendChild(tagDiv);
                });
                tagsCount.textContent = `(${limitedTags.length})`;
            } else {
                tagsSection.classList.add('hidden');
                tagsOutput.classList.remove('md:grid-cols-2');
                tagsOutput.classList.add('grid-cols-1');
            }

            limitedHashtags.forEach(hashtag => {
                const trend = getRandomTrendPercentage();
                const hashtagDiv = document.createElement('div');
                hashtagDiv.className = 'tag-item animate-fade-in';
                hashtagDiv.innerHTML = `
                    <span class="text-gray-800 text-base font-medium flex-grow min-w-0">${hashtag}</span>
                    <span class="trend-percentage">${trend}%</span>
                    <button class="copy-btn bg-indigo-100 text-indigo-700 px-3 py-1 rounded-md text-sm font-semibold hover:bg-indigo-200 transition duration-200 ease-in-out ml-4" data-tag="${hashtag}" aria-label="Copy hashtag: ${hashtag}">
                        Copy
                    </button>
                `;
                hashtagList.appendChild(hashtagDiv);
            });
            hashtagsCount.textContent = `(${limitedHashtags.length})`;

            document.querySelectorAll('.tag-item .copy-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    copyToClipboard(event.target.dataset.tag, event.target);
                });
            });

            tagsOutput.classList.remove('hidden');
        }

        /**
         * Displays fallback tags/hashtags if API generation fails.
         * @param {string} platformType - The platform and type (e.g., 'youtube-tags', 'instagram-hashtags').
         */
        function displayTagsAndHashtagsFromFallback(platformType) {
            if (platformType === 'youtube-combined') {
                const tags = fallbackData['youtube-tags'] || [];
                const hashtags = fallbackData['youtube-hashtags'] || [];
                displayTagsAndHashtags(tags.join(', '), hashtags.join(', '), platformType);
            } else if (platformType === 'instagram-hashtags') {
                const hashtags = fallbackData['instagram-hashtags'] || [];
                displayTagsAndHashtags('', hashtags.join(', '), platformType);
            } else if (platformType === 'tiktok-hashtags') {
                const hashtags = fallbackData['tiktok-hashtags'] || [];
                displayTagsAndHashtags('', hashtags.join(', '), platformType);
            } else if (platformType === 'facebook-hashtags') {
                const hashtags = fallbackData['facebook-hashtags'] || [];
                displayTagsAndHashtags('', hashtags.join(', '), platformType);
            }
        }

        /**
         * Copies text to the clipboard.
         * @param {string} text - The text to copy.
         * @param {HTMLElement} buttonElement - The button element that triggered the copy.
         */
        function copyToClipboard(text, buttonElement) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                const originalText = buttonElement.textContent;
                buttonElement.textContent = 'Copied!';
                buttonElement.classList.add('bounce');
                setTimeout(() => {
                    buttonElement.textContent = originalText;
                    buttonElement.classList.remove('bounce');
                }, 1500);
                showMessageBox('Copied to clipboard!');
            } catch (err) {
                console.error('Failed to copy text: ', err);
                showMessageBox('Failed to copy text. Please copy manually.', true);
            }
            document.body.removeChild(textArea);
        }

        /**
         * Copies all generated tags to the clipboard.
         */
        function copyAllTags() {
            const allTags = Array.from(document.querySelectorAll('#tagList .tag-item span:first-child'))
                                 .map(span => span.textContent)
                                 .join(', ');
            if (allTags) {
                copyToClipboard(allTags, copyAllTagsBtn);
            } else {
                showMessageBox('No tags to copy.', true);
            }
        }

        /**
         * Copies all generated hashtags to the clipboard.
         */
        function copyAllHashtags() {
            const allHashtags = Array.from(document.querySelectorAll('#hashtagList .tag-item span:first-child'))
                                     .map(span => span.textContent)
                                     .join(', ');
            if (allHashtags) {
                copyToClipboard(allHashtags, copyAllHashtagsBtn);
            } else {
                showMessageBox('No hashtags to copy.', true);
            }
        }

        /**
         * Resets the application to its initial state.
         */
        function resetApp() {
            topicInput.value = '';
            instagramTopicInput.value = '';
            tiktokTopicInput.value = '';
            facebookTopicInput.value = '';

            tagList.innerHTML = '';
            hashtagList.innerHTML = '';
            tagsCount.textContent = '(0)';
            hashtagsCount.textContent = '(0)';
            tagsOutput.classList.add('hidden');
            loadingIndicator.classList.add('hidden');
            hideErrorMessage();

            showMessageBox('Application reset!');
        }

        /**
         * Resets only the output and error messages for the tag/hashtag section.
         * This is useful when switching tabs to clear previous results.
         */
        function resetOutputAndErrors() {
            tagList.innerHTML = '';
            hashtagList.innerHTML = '';
            tagsCount.textContent = '(0)';
            hashtagsCount.textContent = '(0)';
            tagsOutput.classList.add('hidden');
            loadingIndicator.classList.add('hidden');
            hideErrorMessage();
        }

        /**
         * Shows an error message for the main tag generation section.
         * @param {string} message - The message to display.
         */
        function showErrorMessage(message) {
            errorText.textContent = message;
            errorMessage.classList.remove('hidden');
        }

        /**
         * Hides the error message for the main tag generation section.
         */
        function hideErrorMessage() {
            errorMessage.classList.add('hidden');
        }

        // Scroll to top button functionality
        window.topFunction = function() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        };

        window.onscroll = function() { scrollFunction() };

        function scrollFunction() {
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            if (scrollToTopBtn) {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    scrollToTopBtn.style.display = "block";
                } else {
                    scrollToTopBtn.style.display = "none";
                }
            }
        }

        // --- Enhanced Website Features ---

        // Enhanced Cookie Consent Management
        function showCookieConsent() {
            try {
                const consent = localStorage.getItem('cookieConsent');
                if (!consent) {
                    setTimeout(() => {
                        const cookieElement = document.getElementById('cookieConsent');
                        if (cookieElement) {
                            cookieElement.style.display = 'block'; // Set display to block first
                            // Force reflow to ensure display:block is applied before opacity transition
                            void cookieElement.offsetWidth;
                            cookieElement.classList.add('show');
                        }
                    }, 2000);
                }
            } catch (error) {
                console.warn('Cookie consent display error:', error);
                showMessageBox('Error loading cookie preferences. Please refresh.', true);
            }
        }

        function acceptCookies() {
            try {
                if (typeof Storage !== "undefined") {
                    localStorage.setItem('cookieConsent', 'accepted');
                    console.log('Cookie consent accepted and saved to localStorage.');
                } else {
                    document.cookie = "cookieConsent=accepted; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";
                    console.log('Cookie consent accepted and saved to document.cookie.');
                }

                const cookieElement = document.getElementById('cookieConsent');
                if (cookieElement) {
                    cookieElement.classList.remove('show');
                    setTimeout(() => {
                        if (cookieElement) {
                            cookieElement.style.display = 'none'; // Hide after fade out
                            console.log('Cookie banner hidden.');
                        }
                    }, 500); // Match transition duration
                }

                if (typeof showMessageBox === 'function') {
                    showMessageBox('✅ Cookie preferences saved! Thank you for trusting TurboTags.');
                }

                try {
                    enableEnhancedFeatures();
                } catch (enhanceError) {
                    console.warn('Failed to enable enhanced features:', enhanceError);
                }
            } catch (error) {
                console.error('Error accepting cookies:', error);
                if (typeof showMessageBox === 'function') {
                    showMessageBox('❌ Error saving cookie preferences. Please try again.', true);
                }
            }
        }

        function rejectCookies() {
            try {
                if (typeof Storage !== "undefined") {
                    localStorage.setItem('cookieConsent', 'rejected');
                    console.log('Cookie consent rejected and saved to localStorage.');
                } else {
                    document.cookie = "cookieConsent=rejected; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";
                    console.log('Cookie consent rejected and saved to document.cookie.');
                }

                const cookieElement = document.getElementById('cookieConsent');
                if (cookieElement) {
                    cookieElement.classList.remove('show');
                    setTimeout(() => {
                        if (cookieElement) {
                            cookieElement.style.display = 'none'; // Hide after fade out
                            console.log('Cookie banner hidden.');
                        }
                    }, 500); // Match transition duration
                }

                if (typeof showMessageBox === 'function') {
                    showMessageBox('🍪 Cookies rejected. Basic functionality will continue to work.');
                }
            } catch (error) {
                console.error('Error rejecting cookies:', error);
                if (typeof showMessageBox === 'function') {
                    showMessageBox('❌ Error saving cookie preferences. Please try again.', true);
                }
            }
        }

        function enableEnhancedFeatures() {
            console.log('Enhanced features enabled');
        }

        // Modal Management - Redirect to separate pages for legal documents
        function openModal(modalId) {
            if (modalId === 'privacyModal') {
                window.open('legal/privacy.html', '_blank'); // Open in new tab
            } else if (modalId === 'termsModal') {
                window.open('legal/terms.html', '_blank'); // Open in new tab
            } else if (modalId === 'disclaimerModal') {
                window.open('legal/disclaimer.html', '_blank'); // Open in new tab
            } else if (modalId === 'cookiesModal') {
                window.open('legal/cookies.html', '_blank'); // Open in new tab
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
        }

        // Custom Confirmation Modal
        function showConfirmModal(message) {
            return new Promise((resolve) => {
                if (!confirmModal) {
                    console.error("Confirm modal element not found.");
                    resolve(false);
                    return;
                }
                confirmMessage.textContent = message;
                confirmModal.classList.add('show');
                document.body.style.overflow = 'hidden';
                confirmActionResolve = resolve;

                const handleConfirm = (result) => {
                    if (confirmModal) {
                        confirmModal.classList.remove('show');
                    }
                    document.body.style.overflow = 'auto';
                    confirmYesBtn.removeEventListener('click', yesListener);
                    confirmNoBtn.removeEventListener('click', noListener);
                    resolve(result);
                };

                const yesListener = () => handleConfirm(true);
                const noListener = () => handleConfirm(false);

                confirmYesBtn.addEventListener('click', yesListener);
                confirmNoBtn.addEventListener('click', noListener);
            });
        }

        // FAQ Accordion
        function toggleFAQ(questionElement) {
            const answer = questionElement.nextElementSibling;
            const icon = questionElement.querySelector('i');

            // Close all other open FAQ items
            document.querySelectorAll('#faq .faq-answer').forEach(item => {
                if (item !== answer && item.classList.contains('open')) {
                    item.classList.remove('open');
                    const otherIcon = item.previousElementSibling ? item.previousElementSibling.querySelector('i') : null;
                    if (otherIcon) {
                        otherIcon.style.transform = 'rotate(0deg)';
                        item.previousElementSibling.setAttribute('aria-expanded', 'false');
                    }
                }
            });

            // Toggle the clicked FAQ item
            answer.classList.toggle('open');
            if (icon) {
                if (answer.classList.contains('open')) {
                    icon.style.transform = 'rotate(180deg)';
                    questionElement.setAttribute('aria-expanded', 'true');
                } else {
                    icon.style.transform = 'rotate(0deg)';
                    questionElement.setAttribute('aria-expanded', 'false');
                }
            }
        }

        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal && modal.classList.contains('show')) {
                    modal.classList.remove('show');
                    document.body.style.overflow = 'auto';
                    if (modal.id === 'confirmModal' && confirmActionResolve) {
                        confirmActionResolve(false); // Resolve with false if modal is closed by clicking outside
                    }
                }
            });
            // Close mobile menu if clicked outside
            if (mobileMenu.classList.contains('open') && !mobileMenu.contains(event.target) && !hamburgerBtn.contains(event.target)) {
                closeMobileMenu();
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (modal.classList.contains('show')) {
                        modal.classList.remove('show');
                        document.body.style.overflow = 'auto';
                        if (modal.id === 'confirmModal' && confirmActionResolve) {
                            confirmActionResolve(false); // Resolve with false if modal is closed by Escape
                        }
                    }
                });
                if (mobileMenu.classList.contains('open')) {
                    closeMobileMenu();
                }
            }
        });

        // Smooth scrolling for internal links
        document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Close mobile menu after clicking a link
                    if (mobileMenu.classList.contains('open')) {
                        closeMobileMenu();
                    }
                }
            });
        });

        // Initialize enhanced features when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            selectTab('youtube'); // Initialize the default tab on DOMContentLoaded
            showCookieConsent();

            if (acceptCookiesBtn) {
                acceptCookiesBtn.addEventListener('click', acceptCookies);
            }
            const rejectCookiesBtnElement = document.getElementById('rejectCookiesBtn');
            if (rejectCookiesBtnElement) {
                rejectCookiesBtnElement.addEventListener('click', rejectCookies);
            }

            document.querySelectorAll('#faq .faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    toggleFAQ(this);
                });
                question.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        toggleFAQ(this);
                    }
                });
            });

            // Email Obfuscation
            const contactLink = document.getElementById('contactEmailLink');
            if (contactLink) {
                const user = 'helloturbotags';
                const domain = 'gmail.com';
                contactLink.setAttribute('href', 'mailto:' + user + '@' + domain);
            }

            const buttons = document.querySelectorAll('.btn-primary, .btn-secondary');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    // Only apply loading state to generate buttons
                    if (this.id.startsWith('generate')) {
                        const originalText = this.innerHTML;
                        this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Generating...';
                        this.disabled = true;

                        // Re-enable button after a timeout if API call doesn't complete
                        setTimeout(() => {
                            if (this.disabled) { // Check if still disabled
                                this.innerHTML = originalText;
                                this.disabled = false;
                            }
                        }, 10000); // Re-enable after 10 seconds
                    }
                });
            });

            // Global error handling
            window.addEventListener('error', function(event) {
                console.error('JavaScript Error:', event.error);
                // Avoid showing error for common console warnings or expected errors
                if (!event.message.includes('cookieConsent') && !event.message.includes('localStorage') && !event.message.includes('favicon.ico')) {
                    showMessageBox('An unexpected error occurred. Please refresh the page.', true);
                }
            });
        });

        // Performance monitoring - Removed gtag.js related tracking
        window.addEventListener('load', function() {
            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
            console.log('Page Load Time:', loadTime, 'ms');
        });

        // --- Firebase Integration for Search Data (for internal model improvement) ---

        /**
         * Saves a search query and its results to Firestore. This data is used for internal model improvement.
         * @param {string} queryText - The user's input query.
         * @param {string} platform - The platform (e.g., 'youtube', 'instagram', 'tiktok').
         * @param {string} generatedTags - Comma-separated tags.
         * @param {string} generatedHashtags - Comma-separated hashtags.
         */
        async function saveSearch(queryText, platform, generatedTags, generatedHashtags) {
            await window.firebaseAuthReadyPromise; // Ensure Firebase auth is ready

            // Corrected: Call isAuthReady, userId, and db as properties/functions from the window.firebase object
            if (!window.firebase.isAuthReady() || !window.firebase.userId() || !window.firebase.db()) {
                console.warn("Firebase not ready or user not authenticated. Cannot save search for internal use.");
                return;
            }

            // Get the current app ID from the Firebase app instance
            // Using window.firebaseApp.options.appId is the correct way to get the appId after initialization
            const appId = window.firebaseApp.options.appId;

            // Check for dummy or missing app ID
            if (!appId || appId === "dummy-app-id" || appId.includes("YOUR_FIREBASE_APP_ID_HERE")) {
                console.warn("Firebase App ID is dummy or missing. Cannot save search for internal use.");
                return;
            }

            try {
                // Use the public data path for AI improvement data
                const searchesCollectionRef = collection(window.firebase.db(), `artifacts/${appId}/public/data/searches_for_ai`);
                await addDoc(searchesCollectionRef, {
                    userId: window.firebase.userId(),
                    queryText: queryText,
                    platform: platform,
                    generatedTags: generatedTags,
                    generatedHashtags: generatedHashtags,
                    timestamp: serverTimestamp()
                });
                console.log("Search data saved for AI improvement.");
            } catch (e) {
                console.error("Error adding document for AI improvement: ", e);
            }
        }
    </script>
</body>
</html>
